<!DOCTYPE html>
<html lang="en">
<head>
  <title>Calculator</title>
  <link rel="stylesheet" type="text/css" href="main.css">
  <!--<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
	<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"> -->
	<script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
  <div id="calculator">
   <div class="display" id="display"></div>
   <div class="buttons">
   <div class="row">
	 <button class="red btn" id="clear">C</button> 
	 <button class="operator  left">/</button>
   </div>
   <div class="row">
	 <button>1</button>
	 <button >2</button>
	 <button >3</button>
	 <button class="operator">x</button>
   </div>
   <div class="row">
	  <button >4</button>
	  <button >5</button>
	  <button >6</button>
	  <button class="operator" >-</button>
   </div>
   <div class="row">
	 <button >7</button>
	 <button >8</button>
	 <button >9</button>
	 <button class=" operator" >+</button>
  </div>
  <div class="row">
	  
	  <button id="delete" class=" yellow operator">#</button>
	  <button class="btn">0</button>
	  <button class="btn1">.</button>
	  <button class="green operator" id="equal">=</button>
	  
	  
  </div>
   </div>
  </div>
  <script>
	
var keys = document.querySelectorAll('.row button');
var operators = ['+', '-', 'x', '/'];
var decimalAdded = false;


for(var i = 0; i < keys.length; i++) {
	keys[i].onclick = function(e) {
		
		var input = document.querySelector('.display');
		var inputVal = input.innerHTML;
		var btnVal = this.innerHTML;
		
		
		if(btnVal == 'C') {
			input.innerHTML = '';
			decimalAdded = false;
		}
		
		else if(btnVal == '#') {
		   var egal = document.getElementById("display")
		    egal.innerHTML = egal.innerHTML.substring(0, egal.innerHTML.length - 1)
			
		}
		
		
		else if(btnVal == '=') {
			var equation = inputVal;
			var lastChar = equation[equation.length - 1];
			
			
			equation = equation.replace(/x/g, '*').replace("/", '/')
			
			
			if(operators.indexOf(lastChar) > -1 || lastChar == '.')
				equation = equation.replace(/.$/, '');
			
			if(equation)
				input.innerHTML = eval(equation);
				
			decimalAdded = false;
		}
		
		
		
		else if(operators.indexOf(btnVal) > -1) {
			
			var lastChar = inputVal[inputVal.length - 1];
			
			
			if(inputVal != '' && operators.indexOf(lastChar) == -1) 
				input.innerHTML += btnVal;
			
			
			else if(inputVal == '' && btnVal == '-') 
				input.innerHTML += btnVal;
			
			
			if(operators.indexOf(lastChar) > -1 && inputVal.length > 1) {
				
				input.innerHTML = inputVal.replace(/.$/, btnVal);
			}
			
			decimalAdded =false;
		}
		
		
		else if(btnVal == '.') {
			if(!decimalAdded) {
				input.innerHTML += btnVal;
				decimalAdded = true;
			}
		}
		
		
		else {
			input.innerHTML += btnVal;
		}
		
		
		e.preventDefault();
	} 
}
	 

	
  </script>
</body>

</html>
